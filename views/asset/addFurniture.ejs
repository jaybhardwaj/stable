<!DOCTYPE html>
<html lang="en">
 
<head> 
      <% include ../partials/head %>
       <% include assetheader %>
       <% include ../partials/adminheader %>
</head>

<body style="overflow-x:hidden">
   
<div style=" padding-bottom:1%;padding-top:1%" class="secondry-color">
  <div class="row"> 
   <span title="Go To Furniture List" onclick="document.location.href='/viewFurniture';" style="float:left;width: 25px;height: 30px;font-size: 20px;color:green;    padding-left: 37px;padding-left: 37px;"  class="glyphicon glyphicon-arrow-left"></span>
    <span class="modal-title" style="padding-left:47%;">Add Furniture</span>
  </div>
   
  <form class="form-horizontal" style="margin:1%; " action="/addFurniture" method="post">
    <div class="row fusion-form-elements">
      <div class="col-lg-3 col-md-3 col-sm-4 col-xs-6">
        <label>Name:<sup  class="astrick">*</sup></label>
        <input type="text" id="typel" class="form-control" maxlength="50" name="typel" placeholder="name">
      </div>
      <div class="col-lg-3 col-md-3 col-sm-4 col-xs-6">
        <label>Quantity:<sup  class="astrick">*</sup></label>
        <input name="no" class="form-control" type="number" min="1" maxLength="2" oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);"  id="qty" placeholder="Quantity">
      </div>
      <div class="col-lg-3 col-md-3 col-sm-4 col-xs-6">
        <label>Vendor:<sup  class="astrick">*</sup></label>
        <select  class="form-control" style=""  name="vendor" id ="vendor" onchange=""> 
          <option value='0' disabled selected>Select</option>
           <% for(i=0;i<brand_vendor[1].length;i++){%>
            <option value="<%=brand_vendor[1][i].id%>"><%=brand_vendor[1][i].name%></option>
            <%}%>
        </select>
      </div>
      <div class="col-lg-3 col-md-3 col-sm-4 col-xs-6">
        <label>Color:</label>
        <input type="text" maxlength="20" name="color" class="form-control" id="color" placeholder="Color">
      </div>
      <div class="col-lg-3 col-md-3 col-sm-4 col-xs-6">
        <label>Invoice No.:<sup  class="astrick">*</sup></label>
        <input type="text" maxlength="30" name="invoiceNo" class="form-control" id="invoiceNo" placeholder="Invoice No.">
      </div>
      <div class="col-lg-3 col-md-3 col-sm-4 col-xs-6">
        <label>Invoice Date:<sup  class="astrick">*</sup></label>
        <input name="Invoicedate"class="form-control date" id="Invoicedate" placeholder="Invoice Date">
      </div>
      <div class="col-lg-3 col-md-3 col-sm-4 col-xs-6">
        <label>Invoice Amt.:<sup  class="astrick">*</sup></label>
        <input type="number" maxLength="12"  name="invoiceAmt" class="form-control" id="invoiceAmt" onblur="calulateunitprice();" oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);"  id="qty" placeholder="Invoice Amount">
      </div>
      <div class="col-lg-3 col-md-3 col-sm-4 col-xs-6">
        <label>Brand:</label>
        <select  class="form-control" style=""  name="brand" id ="brand" onchange=""> 
          <option value='0' disabled selected>Select</option>
            <% for(i=0;i<brand_vendor[0].length;i++){%>
            <option value="<%=brand_vendor[0][i].id%>"><%=brand_vendor[0][i].name%></option>
             <%}%>             
        </select>
      </div>
      <div class="col-lg-3 col-md-3 col-sm-4 col-xs-6">
        <label>Purchased Order:<sup  class="astrick">*</sup></label>
        <input name="order" maxlength="30" class="form-control" id="order" placeholder="Purchased Order">
      </div>
      <div class="col-lg-3 col-md-3 col-sm-4 col-xs-6">
        <label>Delivery Date:<sup  class="astrick">*</sup></label>
        <input name="Deliverydate"class="form-control date" id="Deliverydate" placeholder="Delivery Date">
      </div>
      <div class="col-lg-3 col-md-3 col-sm-4 col-xs-6">
        <label>Unit Price:<sup  class="astrick">*</sup></label>
        <input type="text" name="uprice" maxLength="6" oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);"  class="form-control" id="uprice" readonly="readonly"  placeholder="Unit Price">
      </div>
    </div>
    
  <input type='text' class='hide'name ='flag'value="1">
  <div class="form-group">
    <div class="col-md-6 col-md-offset-5">
      <a href="/viewFurniture"type="button"class="btn btn-default">Cancel</a>
      <button type="submit" onclick="return validate()" class="btn btn-primary">Submit</button>
    </div>
  </div>
</form>
</div>

<% include ../partials/footer %>
<script>
  $(document).ready(function() {
            $('.asset-img').addClass('active');
        });
jQuery('.date').datetimepicker({
 
  timepicker:false,
  format:'d/m/Y'
});

function calulateunitprice(){
  $('#uprice').val((parseInt($('#invoiceAmt').val()))/parseInt($('#qty').val()));
}

  function validate(){
    var inamount=$('#invoiceAmt').val();
    var up=$('#uprice').val();

  if($('#typel').val().length<1||$.trim($("#typel").val()) =="") 
    {
      alert("Name is Missing!");    
      return false;
    }
    if($('#qty').val().length<1||$.trim($("#qty").val()) ==""||$.trim($("#qty").val()) > 20) 
    {
      alert("Enter valid Quantity!");    
      return false;
    }
    if($('#vendor').val().length<1||$.trim($("#vendor").val()) =="") 
    {
      alert("Vendor is Missing!");    
      return false;
    }
    if($('#invoiceNo').val().length<1||$.trim($("#invoiceNo").val()) =="") 
    {
      alert("Invoice number is Missing!");    
      return false;
    }

    if($('#Invoicedate').val().length<1||$.trim($("#Invoicedate").val()) =="") 
    {
      alert("Invoice date is Missing!");    
      return false;
    }
    if(inamount.length<2||isNaN(inamount)||inamount.trim().length<1) 
    {
      alert("Enter valid Invoice Amount!");    
      return false;
    }
    
    if($('#order').val().length<1||$.trim($("#order").val()) =="") 
    {
      alert("Purchased Order is Missing!");    
      return false;
    }
        
    if($('#Deliverydate').val().length<1||$.trim($("#Deliverydate").val()) =="") 
    {
      alert("Delivery date is Missing!");    
      return false;
    }

     if(new Date($('#Invoicedate').val())>new Date($('#Deliverydate').val()))
              {
                alert("Invoicedate Date is greater than Deliverydate Date");
                return false;
            }


    if(up.length<2||isNaN(up)||up.trim().length<1) 
    {
      alert("Enter valid Unit Price!");    
      return false;
    }
              
             


         
  }
</script>
